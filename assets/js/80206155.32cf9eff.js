"use strict";(self.webpackChunksailpoint_developer_portal=self.webpackChunksailpoint_developer_portal||[]).push([[89575],{99837:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>f,contentTitle:()=>m,default:()=>w,frontMatter:()=>u,metadata:()=>k,toc:()=>S});var a=n(3905),r=Object.defineProperty,i=Object.defineProperties,s=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>{for(var n in t||(t={}))l.call(t,n)&&d(e,n,t[n]);if(o)for(var n of o(t))p.call(t,n)&&d(e,n,t[n]);return e},h=(e,t)=>i(e,s(t)),g=(e,t)=>{var n={};for(var a in e)l.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&o)for(var a of o(e))t.indexOf(a)<0&&p.call(e,a)&&(n[a]=e[a]);return n};const u={id:"go-sdk-search",title:"Search with the Go SDK",pagination_label:"Go SDK",sidebar_label:"Search",sidebar_position:5,sidebar_class_name:"gosdk",keywords:["go","golang","sdk","search"],description:"Learn how to search with the Golang SDK in this guide.",slug:"/tools/sdk/go/search",tags:["SDK","Software Development Kit"]},m=void 0,k={unversionedId:"tools/sdk/go/go-sdk-search",id:"tools/sdk/go/go-sdk-search",title:"Search with the Go SDK",description:"Learn how to search with the Golang SDK in this guide.",source:"@site/docs/tools/sdk/go/search.md",sourceDirName:"tools/sdk/go",slug:"/tools/sdk/go/search",permalink:"/docs/tools/sdk/go/search",draft:!1,editUrl:"https://github.com/sailpoint-oss/developer-community-site/edit/main/docs/tools/sdk/go/search.md",tags:[{label:"SDK",permalink:"/docs/tags/sdk"},{label:"Software Development Kit",permalink:"/docs/tags/software-development-kit"}],version:"current",lastUpdatedBy:"GitHub Action Bot",lastUpdatedAt:1720812556,formattedLastUpdatedAt:"Jul 12, 2024",sidebarPosition:5,frontMatter:{id:"go-sdk-search",title:"Search with the Go SDK",pagination_label:"Go SDK",sidebar_label:"Search",sidebar_position:5,sidebar_class_name:"gosdk",keywords:["go","golang","sdk","search"],description:"Learn how to search with the Golang SDK in this guide.",slug:"/tools/sdk/go/search",tags:["SDK","Software Development Kit"]},sidebar:"openApiSidebar",previous:{title:"Go SDK",permalink:"/docs/tools/sdk/go/paginate"},next:{title:"Go SDK",permalink:"/docs/tools/sdk/go/retries"}},f={},S=[{value:"Paginate search results",id:"paginate-search-results",level:3}],b={toc:S},N="wrapper";function w(e){var t=e,{components:n}=t,r=g(t,["components"]);return(0,a.kt)(N,h(c(c({},b),r),{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"To try using the ISC ",(0,a.kt)("a",c({parentName:"p"},{href:"/docs/api/v3/search-post"}),"search functionality"),' along with pagination, copy this code into your "sdk.go" file, following the main code:'),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-go"}),'func getSearchResults(ctx context.Context, apiClient *sailpoint.APIClient) {\n search := v3.NewSearchWithDefaults()\n search.Indices = append(search.Indices, "identities")\n searchString := []byte(`\n {\n "indices": [\n  "identities"\n ],\n "query": {\n  "query": "*"\n },\n    "sort": [\n        "-name"\n    ]\n }\n   `)\n search.UnmarshalJSON(searchString)\n resp, r, err := sailpoint.PaginateSearchApi(ctx, apiClient, *search, 0, 10, 10000)\n if err != nil {\n  fmt.Fprintf(os.Stderr, "Error when calling `PaginateSearchApi``: %v\\n", err)\n  fmt.Fprintf(os.Stderr, "Full HTTP response: %v\\n", r)\n }\n // response from `search`\n for i := 0; i < len(resp); i++ {\n  fmt.Println(resp[i]["name"])\n }\n}\n')),(0,a.kt)("p",null,"To run the search, run this command: ",(0,a.kt)("inlineCode",{parentName:"p"},"go run sdk.go")," This example lists all the identities it finds in your tenant."),(0,a.kt)("p",null,"There are two ways to configure the search:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"You can edit the ",(0,a.kt)("inlineCode",{parentName:"li"},"searchString")," JSON:")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-go",metastring:"showLineNumbers",showLineNumbers:!0}),' searchString := []byte(`\n {\n "indices": [\n  "identities"\n ],\n "query": {\n  "query": "*"\n },\n    "sort": [\n        "-name"\n    ]\n }\n   `)\n')),(0,a.kt)("p",null,"In this example, changing the ",(0,a.kt)("inlineCode",{parentName:"p"},'"indices"')," on line 3 from ",(0,a.kt)("inlineCode",{parentName:"p"},'"identities"')," to ",(0,a.kt)("inlineCode",{parentName:"p"},'"access profiles"')," makes the search return access profiles instead of identities."),(0,a.kt)("ol",c({},{start:2}),(0,a.kt)("li",{parentName:"ol"},"You can edit the string at the end of this ",(0,a.kt)("inlineCode",{parentName:"li"},"search.Indices")," line to do the same thing as a shortcut:")),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-go"}),'search.Indices = append(search.Indices, "identities")\n')),(0,a.kt)("p",null,"In this example, the ",(0,a.kt)("inlineCode",{parentName:"p"},'"identities"')," string represents an unmarshalled JSON. Changing ",(0,a.kt)("inlineCode",{parentName:"p"},'append(search.Indices, "identities")')," to ",(0,a.kt)("inlineCode",{parentName:"p"},'append(search.Indices, "access profiles")')," does the same thing that editing the ",(0,a.kt)("inlineCode",{parentName:"p"},"searchString")," JSON does."),(0,a.kt)("h3",c({},{id:"paginate-search-results"}),"Paginate search results"),(0,a.kt)("p",null,"The search example includes the syntax you can use to paginate search results. Edit this line to configure the search result pagination:"),(0,a.kt)("pre",null,(0,a.kt)("code",c({parentName:"pre"},{className:"language-go"}),"resp, r, err := sailpoint.PaginateSearchApi(ctx, apiClient, *search, 0, 10, 10000)\n")),(0,a.kt)("p",null,"The first value refers to the ",(0,a.kt)("inlineCode",{parentName:"p"},"initialOffset"),", the starting number for the results, the second refers to the ",(0,a.kt)("inlineCode",{parentName:"p"},"increment"),", the number of records per page, and the third refers to the ",(0,a.kt)("inlineCode",{parentName:"p"},"limit"),", the last record that can be returned."),(0,a.kt)("p",null,"For example, changing the first number to ",(0,a.kt)("inlineCode",{parentName:"p"},"21"),", the second to ",(0,a.kt)("inlineCode",{parentName:"p"},"20"),", and the third to ",(0,a.kt)("inlineCode",{parentName:"p"},"40")," would configure the search to return records 21 to 40 and then stop."))}w.isMDXComponent=!0}}]);