"use strict";(self.webpackChunksailpoint_developer_portal=self.webpackChunksailpoint_developer_portal||[]).push([[10083],{22827:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>h,contentTitle:()=>b,default:()=>q,frontMatter:()=>m,metadata:()=>v,toc:()=>f});var i=s(3905),r=Object.defineProperty,n=Object.defineProperties,a=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,p=(e,t,s)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,u=(e,t)=>{for(var s in t||(t={}))l.call(t,s)&&p(e,s,t[s]);if(o)for(var s of o(t))c.call(t,s)&&p(e,s,t[s]);return e},g=(e,t)=>n(e,a(t)),d=(e,t)=>{var s={};for(var i in e)l.call(e,i)&&t.indexOf(i)<0&&(s[i]=e[i]);if(null!=e&&o)for(var i of o(e))t.indexOf(i)<0&&c.call(e,i)&&(s[i]=e[i]);return s};const m={id:"access-request-preapproval",title:"Access Request Submitted",pagination_label:"Access Request Submitted",sidebar_label:"Access Request Submitted",sidebar_class_name:"accessRequestSubmitted",keywords:["event","trigger","access","request","submitted","preapproval","available"],description:"Fires after an access request is submitted.",slug:"/extensibility/event-triggers/triggers/access-request-submitted",tags:["Event Triggers","Available Event Triggers","Request Response"]},b=void 0,v={unversionedId:"extensibility/event-triggers/available/access-request-preapproval",id:"extensibility/event-triggers/available/access-request-preapproval",title:"Access Request Submitted",description:"Fires after an access request is submitted.",source:"@site/docs/extensibility/event-triggers/available/access-request-submitted.md",sourceDirName:"extensibility/event-triggers/available",slug:"/extensibility/event-triggers/triggers/access-request-submitted",permalink:"/docs/extensibility/event-triggers/triggers/access-request-submitted",draft:!1,editUrl:"https://github.com/sailpoint-oss/developer-community-site/edit/main/docs/extensibility/event-triggers/available/access-request-submitted.md",tags:[{label:"Event Triggers",permalink:"/docs/tags/event-triggers"},{label:"Available Event Triggers",permalink:"/docs/tags/available-event-triggers"},{label:"Request Response",permalink:"/docs/tags/request-response"}],version:"current",lastUpdatedBy:"GitHub Action Bot",lastUpdatedAt:1720812556,formattedLastUpdatedAt:"Jul 12, 2024",frontMatter:{id:"access-request-preapproval",title:"Access Request Submitted",pagination_label:"Access Request Submitted",sidebar_label:"Access Request Submitted",sidebar_class_name:"accessRequestSubmitted",keywords:["event","trigger","access","request","submitted","preapproval","available"],description:"Fires after an access request is submitted.",slug:"/extensibility/event-triggers/triggers/access-request-submitted",tags:["Event Triggers","Available Event Triggers","Request Response"]},sidebar:"openApiSidebar",previous:{title:"Access Request Dynamic Approval",permalink:"/docs/extensibility/event-triggers/triggers/access-request-dynamic-approval"},next:{title:"Account Aggregation Completed",permalink:"/docs/extensibility/event-triggers/triggers/account-aggregation-completed"}},h={},f=[{value:"Event Context",id:"event-context",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Additional Information and Links",id:"additional-information-and-links",level:2}],k={toc:f},y="wrapper";function q(e){var t=e,{components:r}=t,n=d(t,["components"]);return(0,i.kt)(y,g(u(u({},k),n),{components:r,mdxType:"MDXLayout"}),(0,i.kt)("h2",u({},{id:"event-context"}),"Event Context"),(0,i.kt)("p",null,"The platform now includes event triggers within the access request approval workflow. The 'Access Request Submitted' event trigger provides more proactive governance, ensures users can quickly obtain needed access, and helps with more preventative measures towards unintended access. When an access request is submitted, this trigger is invoked before the ",(0,i.kt)("a",u({parentName:"p"},{href:"/docs/extensibility/event-triggers/triggers/access-request-dynamic-approval"}),"Access Request Dynamic Approval trigger"),"."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Flow",src:s(98909).Z,width:"860",height:"263"})),(0,i.kt)("p",null,"When an access request is submitted, some uses cases for this trigger include the following:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Provide the approver with additional context about the access request, like any Separation of Duties (SOD) policy violations, for example."),(0,i.kt)("li",{parentName:"ul"},"Notify the approver through a different medium, such as Slack or Outlook Actionable Messages."),(0,i.kt)("li",{parentName:"ul"},"Send a Terms of Agreement form of the requested Application to be signed by the access requester."),(0,i.kt)("li",{parentName:"ul"},"On average, you can expect about 1 access request for every 4 identities within your org per day. On average you can expect about 1 to 2 access requests within a 10 second period.")),(0,i.kt)("p",null,"Additional use cases include the following:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Send a Slack notification to the approver or an approval channel and approve the request within Slack."),(0,i.kt)("li",{parentName:"ul"},"Create an Outlook Actionable Message."),(0,i.kt)("li",{parentName:"ul"},"Create a Google Doc for the requester to fill out and submit.")),(0,i.kt)("h2",u({},{id:"configuration"}),"Configuration"),(0,i.kt)("p",null,"This is a ",(0,i.kt)("inlineCode",{parentName:"p"},"REQUEST_RESPONSE")," trigger type. For more information about how to respond to a ",(0,i.kt)("inlineCode",{parentName:"p"},"REQUEST_RESPONSE")," type trigger, see ",(0,i.kt)("a",u({parentName:"p"},{href:"/docs/extensibility/event-triggers/responding-request-response-trigger"}),"responding to a request response type trigger"),". This trigger intercepts newly submitted access requests and allows the subscribing service to perform a preliminary approval/denial before the access request moves to the next approver in the chain."),(0,i.kt)("p",null,"The subscribing service will receive the following input from the trigger service."),(0,i.kt)("pre",null,(0,i.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "accessRequestId": "2c91808b6ef1d43e016efba0ce470904",\n  "requestedFor": {\n    "type": "IDENTITY",\n    "id": "2c91808568c529c60168cca6f90c1313",\n    "name": "William Wilson"\n  },\n  "requestedItems": [\n    {\n      "id": "2c91808b6ef1d43e016efba0ce470904",\n      "name": "Engineering Access",\n      "description": "Access to engineering database",\n      "type": "ACCESS_PROFILE",\n      "operation": "Add",\n      "comment": "William needs this access to do his job."\n    }\n  ],\n  "requestedBy": {\n    "type": "IDENTITY",\n    "id": "2c91808568c529c60168cca6f90c1314",\n    "name": "Rob Robertson"\n  }\n}\n')),(0,i.kt)("p",null,"The subscribing service can use this information to make a decision about whether to approve or deny the request."),(0,i.kt)("p",null,"To approve an access request, the subscribing service responds to the event trigger with the following payload:"),(0,i.kt)("pre",null,(0,i.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "approved": true,\n  "comment": "This access has passed preliminary approval.",\n  "approver": "AcmeCorpExternalIntegration"\n}\n')),(0,i.kt)("p",null,"To deny an access request, the subscribing service responds to the event trigger with the following payload:"),(0,i.kt)("pre",null,(0,i.kt)("code",u({parentName:"pre"},{className:"language-json"}),'{\n  "approved": false,\n  "comment": "This access should be denied, because this will cause an SOD violation.",\n  "approver": "AcmeCorpExternalIntegration"\n}\n')),(0,i.kt)("p",null,":::Warning\nThe ",(0,i.kt)("inlineCode",{parentName:"p"},"approver")," does not have to be the name of an existing identity in your ISC tenant. It can be anything you want it to be. However, if you have an active subscription to the ",(0,i.kt)("a",u({parentName:"p"},{href:"/docs/extensibility/event-triggers/triggers/access-request-decision"}),"Access Request Decision")," trigger, you ",(0,i.kt)("strong",{parentName:"p"},"MUST")," provide the ",(0,i.kt)("strong",{parentName:"p"},"username")," of an existing identity in your tenant in the ",(0,i.kt)("inlineCode",{parentName:"p"},"approver")," field. If you do not provide the ",(0,i.kt)("strong",{parentName:"p"},"username")," of an existing identity, then your Access Request Decision subscriptions will never be triggered.\n:::"),(0,i.kt)("p",null,":::Warning\nThis event trigger interrupts the normal workflow for access requests. Access requests can only proceed if the subscribing service responds within the alotted time by approving the request. If the subscribing service is non-responsive or it is responding with an incorrect payload, access requests will fail after the ",(0,i.kt)("strong",{parentName:"p"},"Separation of Duties")," check."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"AR failed",src:s(67255).Z,width:"440",height:"450"})),(0,i.kt)("p",null,"If you see numerous access requests failing at this stage, verify that your subscribing service is operating correctly.\n:::"),(0,i.kt)("h2",u({},{id:"additional-information-and-links"}),"Additional Information and Links"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Trigger Type"),": ",(0,i.kt)("a",u({parentName:"li"},{href:"/docs/extensibility/event-triggers/trigger-types#request-response"}),"REQUEST_RESPONSE")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",u({parentName:"li"},{href:"/docs/extensibility/event-triggers/responding-request-response-trigger"}),"How to respond to a REQUEST_RESPONSE trigger"))))}q.isMDXComponent=!0},67255:(e,t,s)=>{s.d(t,{Z:()=>i});const i=s.p+"assets/images/access-request-preapproval-failure-892d2c05f3d6d5f085b65347414bbc6e.png"},98909:(e,t,s)=>{s.d(t,{Z:()=>i});const i=s.p+"assets/images/access-request-preapproval-path-7652533b5465742c950bd8a05679aad3.png"}}]);